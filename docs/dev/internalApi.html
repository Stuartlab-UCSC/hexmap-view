<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Internal Calc API on Hub &#8212; Tumor Map Developer Documentation</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Calc API: N-of-1 Analysis" href="Nof1.html" />
    <link rel="prev" title="Developer Docs" href="index.html" /> 
  </head>
  <body role="document">
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">Tumor Map Developer Documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="index.html" title="Developer Docs"
             accesskey="P">previous</a> |
          <a href="Nof1.html" title="Calc API: N-of-1 Analysis"
             accesskey="N">next</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="internal-calc-api-on-hub">
<h1>Internal Calc API on Hub<a class="headerlink" href="#internal-calc-api-on-hub" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="Nof1.html">Calc API: N-of-1 Analysis</a></li>
</ul>
</div>
<div class="section" id="general-information">
<h2>General information<a class="headerlink" href="#general-information" title="Permalink to this headline">¶</a></h2>
<p>The &#8216;hub&#8217; contains an http server, data files and scripts that perform
computations on those data files. The http server responds to requests for data
files and requests for computations using the web APIs described at:
<a class="reference external" href="https://tumormap.ucsc.edu/query/index.html">https://tumormap.ucsc.edu/query/index.html</a></p>
<p>This page describes the internal API for calling computation scripts upon
receipt of a request via the web API.</p>
</div>
<div class="section" id="prior-to-script-call">
<h2>Prior to script call<a class="headerlink" href="#prior-to-script-call" title="Permalink to this headline">¶</a></h2>
<p>Prior to calling the script, parameters received in the http request are
extracted from JSON into a python, sanity validated, and
file locations are derived from the map, layout and/or attribute.</p>
<p>File paths are derived from the map ID, etc before calling the script.</p>
</div>
<div class="section" id="script-call">
<h2>Script call<a class="headerlink" href="#script-call" title="Permalink to this headline">¶</a></h2>
<p>The computation script is called from the http server via a spawned python
process, passing the parameters as a python Namespace object.</p>
<p>Defaults for parameters not provided should be set by the computation script
in common code used via
the web API, command-line, or other entry points so that they are set in only
one place.</p>
</div>
<div class="section" id="after-script-call">
<h2>After script call<a class="headerlink" href="#after-script-call" title="Permalink to this headline">¶</a></h2>
<p>Any email addresses included in the request are used to send a job completion
message. Any URLs needed are generated and returned to the original web API
caller.</p>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Internal Calc API on Hub</a></li>
<li class="toctree-l1"><a class="reference internal" href="Nof1.html">Calc API: N-of-1 Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="internalWebApi.html">Internal Web API on Hub</a></li>
<li class="toctree-l1"><a class="reference internal" href="source.html">Source Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="clientSource.html">Source: Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="serverSource.html">Source: Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="repository.html">Code Repository</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements &amp; Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs.html">This Document</a></li>
<li class="toctree-l1"><a class="reference internal" href="licenses.html">Licenses</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="index.html" title="Developer Docs"
              >previous</a> |
            <a href="Nof1.html" title="Calc API: N-of-1 Analysis"
              >next</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/internalApi.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, UCSC Tumor Map development team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>