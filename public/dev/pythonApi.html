<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Python API &mdash; Tumor Map Developer Documentation</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Tumor Map Developer Documentation" href="index.html" />
    <link rel="next" title="Python API: syncMaps" href="pyCreateSubMap.html" />
    <link rel="prev" title="Developer Docs" href="index.html" /> 
  </head>
  <body role="document">
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">Tumor Map Developer Documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="index.html" title="Developer Docs"
             accesskey="P">previous</a> |
          <a href="pyCreateSubMap.html" title="Python API: syncMaps"
             accesskey="N">next</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="python-api">
<h1>Python API<a class="headerlink" href="#python-api" title="Permalink to this headline">Â¶</a></h1>
<p>The server initiates calls to python scripts, while the python script is a
responder to the server&#8217;s requests.</p>
<p><strong>Python API Helpers</strong></p>
<p>Use the helper function: readJsonRequestData() to read the json-formatted data
from the file and convert the json to a python dict.</p>
<p>Use the helper function: writeJsonResponseData() to convert the python data to
json, write it to a file, and pass the filename back to the caller via stdout.</p>
<p>This file is checked into the repository as server/pythonApiHelpers.py.</p>
<p><strong>Requests</strong></p>
<p>Requests and responses have only one parameter: a file name containing the data
in JSON format. Use the helper function: readJsonRequestData() to read the json-formatted data
from the file and convert the json to a python dict. The data are described
in the individual python APIs listed at the bottom of this page.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>python placeNewNodes.py /tmp/x.txt
</pre></div>
</div>
<p><strong>Response success</strong></p>
<p>The response from the python script is returned in stdout, so that just a print
statement is required to pass the temporary filename. This means the only print
statements you may have in your scripts include the one to return the
filename containing the response data, and errors as described in <strong>Response errors</strong>.</p>
<p>Use the helper function:
writeJsonResponseData() to convert the python data to json, write it
to a file, and pass the filename back to the caller via stdout. The data are described
in the individual python APIs listed at the bottom of this page.</p>
<p><strong>Response errors</strong></p>
<p>In place of the temporary file name used for success, use stdout to return error
and warning messages. Use one of these forms for your message so the UI can echo it.
Return a zero after printing the message so the caller will know this is a captured
error/warning, and not an unknown exception.</p>
<p>Warning: &lt;some warning, not a failure, but no data&gt;</p>
<p>Error: &lt;some real error that prevented something from happening&gt;</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">print</span> <span class="s1">&#39;Warning: some minor issue occurred&#39;</span>
<span class="k">return</span> <span class="mi">0</span>

<span class="k">print</span> <span class="s1">&#39;Error: that just blew everything up&#39;</span>
<span class="k">return</span> <span class="mi">0</span>
</pre></div>
</div>
<p><strong>Python API JSON data:</strong></p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pyCreateSubMap.html">Python API: syncMaps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyCreateSubMap.html#response">Response</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyCreateSubMap.html#implementation-notes">Implementation notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyOverlayNodes.html">Python API: overlayNodes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyOverlayNodes.html#request">Request</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyOverlayNodes.html#response">Response</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyStatsDynamic.html">Python API: statsDynamic</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyStatsDynamic.html#request">Request</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyStatsDynamic.html#response">Response</a></li>
</ul>
</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Python API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyCreateSubMap.html">Python API: syncMaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyOverlayNodes.html">Python API: overlayNodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyStatsDynamic.html">Python API: statsDynamic</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="queryApi.html">Query API</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapManager.html">Map Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="source.html">Source Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="clientSource.html">Source: Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="serverSource.html">Source: Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="serverSource.html#utilities-called-by-layout-py">Utilities called by layout.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="repository.html">Code Repository</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs.html">This Document</a></li>
<li class="toctree-l1"><a class="reference internal" href="licenses.html">Licenses</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
            <p class="searchtip" style="font-size: 90%">
                Enter search terms or a module, class or function name.
            </p>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="index.html" title="Developer Docs"
              >previous</a> |
            <a href="pyCreateSubMap.html" title="Python API: syncMaps"
              >next</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/pythonApi.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, UCSC Tumor Map development team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.5.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>