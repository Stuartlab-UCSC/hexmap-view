<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Future: Create a map &#8212; Hex Map API</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Future: Place new nodes" href="placeNode.html" />
    <link rel="prev" title="Future: Add new coloring attributes via Xena" href="addAttributeXena.html" /> 
  </head>
  <body role="document">
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">Hex Map API</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="addAttributeXena.html" title="Future: Add new coloring attributes via Xena"
             accesskey="P">previous</a> |
          <a href="placeNode.html" title="Future: Place new nodes"
             accesskey="N">next</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="future-create-a-map">
<h1>Future: Create a map<a class="headerlink" href="#future-create-a-map" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https:/">https:/</a>/&lt;compute_server&gt;/query/<strong>createMap</strong></p>
<p>POST with content-type: application/json</p>
<p>data-type: json</p>
<p>This API builds a new map from data you supply.</p>
<div class="section" id="content-example">
<h2>Content Example<a class="headerlink" href="#content-example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;map&quot;</span><span class="p">:</span> <span class="s2">&quot;CKCC/v3&quot;</span><span class="p">,</span>
   <span class="s2">&quot;authGroup&quot;</span><span class="p">:</span> <span class="s2">&quot;CKCC&quot;</span><span class="p">,</span>
   <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="p">[</span>
       <span class="s2">&quot;mok66@gmail.com&quot;</span><span class="p">,</span>
       <span class="o">...</span>
   <span class="p">],</span>
   <span class="s2">&quot;layoutInputFormat&quot;</span><span class="p">:</span> <span class="s2">&quot;clusterData&quot;</span><span class="p">,</span>
   <span class="s2">&quot;neighborCount&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
   <span class="s2">&quot;firstColorAttribute&quot;</span><span class="p">:</span> <span class="s2">&quot;Disease&quot;</span><span class="p">,</span>
   <span class="s2">&quot;layoutAwareStats&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
   <span class="s2">&quot;layoutIndependentStats&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
   <span class="s2">&quot;reflectionMapType&quot;</span><span class="p">:</span> <span class="s2">&quot;geneMap&quot;</span><span class="p">,</span>
   <span class="s2">&quot;colormap&quot;</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">&quot;Disease&quot;</span><span class="p">:</span> <span class="p">{</span>
           <span class="s2">&quot;BRCA&quot;</span><span class="p">:</span> <span class="s2">&quot;#0000FF&quot;</span><span class="p">,</span>
           <span class="s2">&quot;LUAD&quot;</span><span class="p">:</span> <span class="s2">&quot;#00FF00&quot;</span>
       <span class="p">},</span>
       <span class="s2">&quot;Tumor Stage&quot;</span><span class="p">:</span> <span class="p">{</span>
           <span class="s2">&quot;Stage I&quot;</span><span class="p">:</span> <span class="s2">&quot;#0000FF&quot;</span><span class="p">,</span>
           <span class="s2">&quot;Stage II&quot;</span><span class="p">:</span> <span class="s2">&quot;#00FF00&quot;</span>
       <span class="p">},</span>
       <span class="o">...</span>
   <span class="p">},</span>
   <span class="s2">&quot;colorAttributes&quot;</span><span class="p">:</span> <span class="p">[</span>
       <span class="s2">&quot;Node1&quot;</span><span class="p">:</span> <span class="p">{</span>
           <span class="s2">&quot;Disease&quot;</span><span class="p">:</span> <span class="s2">&quot;BRCA&quot;</span><span class="p">,</span>
           <span class="s2">&quot;Tumor Stage&quot;</span><span class="p">:</span> <span class="s2">&quot;Stage I&quot;</span><span class="p">,</span>
           <span class="o">...</span>
       <span class="p">},</span>
       <span class="s2">&quot;Node2&quot;</span><span class="p">:</span> <span class="p">{</span>
           <span class="s2">&quot;Disease&quot;</span><span class="p">:</span> <span class="s2">&quot;LUAD&quot;</span><span class="p">,</span>
           <span class="s2">&quot;Tumor Stage&quot;</span><span class="p">:</span> <span class="s2">&quot;Stage II&quot;</span><span class="p">,</span>
           <span class="o">...</span>
       <span class="p">},</span>
       <span class="o">...</span>
   <span class="p">],</span>
   <span class="s2">&quot;layoutInput&quot;</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;mRNA&quot;</span><span class="p">,</span>
       <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
           <span class="s2">&quot;Node1&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="s2">&quot;ALK&quot;</span><span class="p">:</span> <span class="mf">0.897645</span><span class="p">,</span>
               <span class="s2">&quot;TP53&quot;</span><span class="p">:</span> <span class="mf">0.904140</span><span class="p">,</span>
               <span class="o">...</span>
           <span class="p">},</span>
           <span class="s2">&quot;Node2&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="s2">&quot;ALK&quot;</span><span class="p">:</span> <span class="mf">0.897645</span><span class="p">,</span>
               <span class="s2">&quot;TP53&quot;</span><span class="p">:</span> <span class="mf">0.904140</span><span class="p">,</span>
               <span class="o">...</span>
           <span class="p">},</span>
           <span class="o">...</span>
       <span class="p">},</span>
       <span class="o">...</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><strong>map</strong> : a unique identifier. If you want the map to belong to a map group, that is included before the specific map separated by a slash as in the example.</li>
<li><strong>authGroup</strong> : optional, defaults to viewable by the user who creates the map. The authorization group to which a user must belong to view this map.</li>
<li><strong>email</strong> : optional, one or more email addresses to receive the response</li>
<li><strong>layoutInputFormat</strong> : one of [clusterData, fullSimilarity, sparseSimilarity, xyPositions]. The format of the layout input, See the section, &#8220;Layout input formats&#8221; below.</li>
<li><strong>neighborCount</strong> : optional, defaults to 6. The number of neighbors of each node to consider in laying out the map.</li>
<li><strong>firstColorAttribute</strong> : optional, defaults to the attribute with the highest density; the attribute to be used to color the map on initial display</li>
<li><strong>layoutAwareStats</strong> : optional, defaults to false. true indicates the statistics which consider the placement of nodes should be calculated. Note that these are compute-intensive so you may want to run them only when you are satisfied with your layout and coloring attributes.</li>
<li><strong>layoutIndependentStats</strong> : optional, defaults to false. true indicates the statistics that are independent of the placement of nodes should be calculated. Note that these are compute-intensive so you may want to run them only when you are satisfied with your layout and coloring attributes.</li>
<li><strong>reflectionMapType</strong> : optional, with a value of &#8220;geneMap&#8221;. Generate another map with 90-degree rotated clustering data so that clustering features are used as the nodes in the layout. Color attributes are provided and determined by the map type. &#8220;genemap&#8221; will produce a map with the genes as nodes in the layout with a set of pre-defined signatures as color attributes.</li>
<li><strong>colormap</strong> : optional, defaults to a colormap generated during computations. A colormap already defined for the color attributes which maps each category value to a color. New attributes and categories will be added to this colormap.</li>
<li><strong>colorAttributes</strong> : optional, contains properties of nodes given in the layout input used to color the map. Your attribute names and values are ojects within each node.</li>
<li><strong>layoutInput</strong> : contains your layout name and data to use in laying out the map.</li>
</ul>
<blockquote>
<div><ul class="simple">
<li><strong>name</strong> : string used to name this layout. This is included for each layoutInputFormat.</li>
<li><strong>data</strong>: the data to be used to determine the layout. The format is specific to each layoutInputFormat as described below.</li>
</ul>
</div></blockquote>
<div class="section" id="layout-input-formats">
<h3>Layout input formats<a class="headerlink" href="#layout-input-formats" title="Permalink to this headline">¶</a></h3>
<p><strong>clusterData</strong>:
The most basic of the layout input formats where similarities among nodes
and xy positions will be calculated for you. The main example above shows an
example of this format which contains your node names and values.</p>
<p><strong>fullSimilarity</strong>
This format contains similarity scores between all node pairs which will be used to
calculate xy positions. An example which contains your node names and values:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
   <span class="s2">&quot;Node1&quot;</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">&quot;Node1&quot;</span><span class="p">:</span> <span class="mf">0.897645</span><span class="p">,</span>
       <span class="s2">&quot;Node2&quot;</span><span class="p">:</span> <span class="mf">0.904140</span><span class="s2">&quot;,</span>
       <span class="o">...</span>
   <span class="p">},</span>
   <span class="s2">&quot;Node2&quot;</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">&quot;Node1&quot;</span><span class="p">:</span> <span class="mf">0.897645</span><span class="p">,</span>
       <span class="s2">&quot;Node2&quot;</span><span class="p">:</span> <span class="mf">0.904140</span><span class="p">,</span>
       <span class="o">...</span>
   <span class="p">},</span>
   <span class="o">...</span>
<span class="p">},</span>
</pre></div>
</div>
<p><strong>sparseSimilarity</strong>
This format contains similarity scores between each node and its <strong>neighborCount</strong>
closest neighbor nodes which will be used to calculate xy positions. This format
is identical to that of <strong>fullSimilarity</strong>. Rather than containing a similarity
score for every node pair, only the nodes with the top scores
for each node are included.</p>
<p><strong>xyPositions</strong>
This format is the most processed of the layout input formats,
containing the x and y coordinates in two-dimensional space of each node. An
example which contains [x,y] positions for each of your node names:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
   <span class="s2">&quot;Node1&quot;</span><span class="p">:</span> <span class="p">{</span>
       <span class="p">[</span><span class="mf">4.897</span><span class="p">,</span> <span class="mf">8.226</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">55.693</span><span class="p">,</span> <span class="mf">95.5</span><span class="p">],</span>
       <span class="o">...</span>
   <span class="p">},</span>
   <span class="s2">&quot;Node2&quot;</span><span class="p">:</span> <span class="p">{</span>
       <span class="p">[</span><span class="mf">4.897</span><span class="p">,</span> <span class="mf">8.226</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">55.693</span><span class="p">,</span> <span class="mf">95.5</span><span class="p">],</span>
       <span class="o">...</span>
   <span class="p">},</span>
   <span class="o">...</span>
<span class="p">},</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="response-success">
<h2>Response success<a class="headerlink" href="#response-success" title="Permalink to this headline">¶</a></h2>
<p>This is returned as HTTP 200 with the content as a JSON string containing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;Request received.&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>If the web API was called via the viewer, when the map build is complete,
this will be returned as a JSON string and the user will be given the
opportunity to load the map:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;bookmark&quot;</span><span class="p">:</span> <span class="s2">&quot;https://tumormap.ucsc.edu/?p=CKCC/V3&quot;</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="response-error">
<h2>Response error<a class="headerlink" href="#response-error" title="Permalink to this headline">¶</a></h2>
<p>Response errors are returned with some code other than HTTP 200 with the content
containing a more specific message as a JSON string.</p>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="addAttribute.html">Future: Add new coloring attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="addAttributeXena.html">Future: Add new coloring attributes via Xena</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Future: Create a map</a></li>
<li class="toctree-l1"><a class="reference internal" href="placeNode.html">Future: Place new nodes</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="addAttributeXena.html" title="Future: Add new coloring attributes via Xena"
              >previous</a> |
            <a href="placeNode.html" title="Future: Place new nodes"
              >next</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/createMap.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, UCSC Tumor Map development team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.3.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>